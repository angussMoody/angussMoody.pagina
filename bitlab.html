<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Bitlab</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/icofont/icofont.min.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assets/vendor/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/venobox/venobox.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: Personal - v2.4.0
  * Template URL: https://bootstrapmade.com/personal-free-resume-bootstrap-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

  <main id="main">

    <!-- ======= Portfolio Details ======= -->
    <div id="portfolio-details" class="portfolio-details">
      <div class="container">

        <div class="row">

          <div class="col-lg-8">
            <h2 class="portfolio-title">HTB Máquina Bitlab</h2>
            <div class="owl-carousel portfolio-details-carousel">
              <img src="assets/img/portfolio/bitlab/1.JPG" class="img-fluid" alt="">
              <img src="assets/img/portfolio/bitlab/3.JPG" class="img-fluid" alt="">
              <img src="assets/img/portfolio/bitlab/25.JPG" class="img-fluid" alt="">
            </div>
          </div>

          <div class="col-lg-4 portfolio-info">
            <h3>angussMoody</h3>
            <ul><br><br><br><br><br>
              <li><strong>Sistema</strong>: Linux</li>
              <li><strong>Puntuación</strong>: 3.8</li>
              <li><strong>Categoría</strong>: Medio</li>
            </ul>

          </div>

        </div>
        <p>
          <h1>• Usuario:</h1> 
        </p>
        <p style="text-align: justify;">          
          Despues de realizar el escaneo de puertos nos encontramos que tiene un servicio http corriendo en la máquina
        </p>
        <p style="text-align: justify;">
          <img src="assets/img/portfolio/bitlab/1.1.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">          
          y después de analizar un poco la página ingresamos a la dirección http://10.10.10.114/gitlab/
        </p>
        <p style="text-align: justify;">
          <img src="assets/img/portfolio/bitlab/2.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">          
          esto nos redirige al directorio clave que puede ser un usuario que nos pueda servir más adelante 
        </p>
        <p style="text-align: justify;">
          <img src="assets/img/portfolio/bitlab/3.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">          
          Nos dirigimos al directorio help, donde encontramos un link llamado bookmarks.html, nos dirigirnos a este link el cual nos da muchas pistas en los links relacionados, entre ellos, la página principal de Node.js
        </p>
        <p style="text-align: justify;">
          <img src="assets/img/portfolio/bitlab/4.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">          
          pero solo hay uno que no nos lleva a una página, revisando el código de la página vemos que este tiene un archivo javascript y por lo que podemos ver es algo escrito en hexadecimal  
        </p>
        <p style="text-align: justify;">
          <img src="assets/img/portfolio/bitlab/5.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">          
          vamos a ver que nos dice este código, y no es nada más y nada menos que la confirmación del usuario que vimos anterior mente y un password, con esto ya tendíamos acceso.
        </p>
        <p style="text-align: justify;">
          <img src="assets/img/portfolio/bitlab/6.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">          
          Al entrar al sistema, nos encontramos con unos repositorios y nos llama mucho la atención que han sido modificados hace solo unos minutos, así que vemos uno llamado rev-sh.php entramos a ver este archivo y lo modificamos un poco para hacerlo correr
        </p>
        <p style="text-align: justify;">
          <img src="assets/img/portfolio/bitlab/7.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">          
          hacemos una prueba, realizando un echo, para saber si estos archivos están corriendo
        </p>
        <p style="text-align: justify;">
          <img src="assets/img/portfolio/bitlab/8.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">
          <img src="assets/img/portfolio/bitlab/9.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">          
          nos damos cuenta que el código que pongamos en estos archivos corre así que lo próximo es subir nuestra reverse Shell para ver si nos podemos conectar por medio de netcat 
        </p>
        <p style="text-align: justify;">
          <img src="assets/img/portfolio/bitlab/10.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">          
          Subimos nuestra Shell, y ponemos nuestra máquina a la escucha, para este caso lo hacemos en el puerto 9999 
        </p>
        <p style="text-align: justify;">
          <img src="assets/img/portfolio/bitlab/11.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">
          <img src="assets/img/portfolio/bitlab/12.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">          
          Y al correr nuestro código tenemos acceso, realizamos el procedimiento que hemos realizado anteriormente con Python, para tener una Shell más amigable.
        </p>
        <p style="text-align: justify;">
          <img src="assets/img/portfolio/bitlab/13.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">          
          Vamos a nuestro usuario para capturar la primera bandera, pero vemos que no tenemos permisos para leer este archivo, además vemos un ejecutable que nos llama la atención, RemoteConnection.exe
        </p>
        <p style="text-align: justify;">
          <img src="assets/img/portfolio/bitlab/14.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">          
          Hasta este punto, no sabíamos bien que debemos hacer, ya que no tenemos permisos necesarios, entonces ya que podemos correr código, tal vez podamos ingresar a la base de datos y sacar las credenciales necesarias para obtener permisos de usuario
        </p>
        <p style="text-align: justify;">
          <img src="assets/img/portfolio/bitlab/20.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">          
          Y con este código encontramos unas credenciales con un password al parecer en base64 
        </p>
        <p style="text-align: justify;">
          <img src="assets/img/portfolio/bitlab/21.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">          
          Al pasarlo a texto nos da una password que al parecer es de ssh, así que vamos a intentar conectarnos por medio de ssh con el usuario que ya conocemos, pero no tenemos suerte con este password 
        </p>
        <p style="text-align: justify;">
          <img src="assets/img/portfolio/bitlab/22.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">          
          intentamos con el password en base64
        </p>
        <p style="text-align: justify;">
          <img src="assets/img/portfolio/bitlab/23.JPG" class="img-fluid" alt="">
        </p>
        <p>
          <strong> Y de esta manera obtenemos nuestra primer flag. </strong> 
        </p>

        <p style="text-align: justify;">
          <h1>• Escalada de Privilegios:</h1> 
        </p>
        <p style="text-align: justify;">          
          La escalada de privilegios no fue tan difícil como otras máquinas que hemos visto, ya que desde el principio de la máquina nos dieron un archivo para analizar, después de analizar el código un poco, leer un poco y pensar un poco, corrimos el RemoteConnerion.exe con la herramienta OllyDbg.
        </p>
        <p style="text-align: justify;">          
          De entrada, vemos algo que nos llama la atención y es nuestro usuario
        </p>
        <p style="text-align: justify;">
          <img src="assets/img/portfolio/bitlab/24.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">          
          Así que vamos a darle en Breakpoint y luego en Run to selection
        </p>
        <p style="text-align: justify;">
          <img src="assets/img/portfolio/bitlab/25.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">          
          Nos arroja unos datos interesante que debemos pasar a leer
        </p>
        <p style="text-align: justify;">
          <img src="assets/img/portfolio/bitlab/27.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">          
         y al parecer nos encontramos con las credenciales del usuario root
        </p>
        <p style="text-align: justify;">
          <img src="assets/img/portfolio/bitlab/26.jpg" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">          
         ahora vamos a iniciar sesión por medio de ssh como hicimos con el usuario clave
        </p>
        <p style="text-align: justify;">
          <img src="assets/img/portfolio/bitlab/28.JPG" class="img-fluid" alt="">
        </p>
        <p>
          <strong> De esta manera encontramos la flag del Root. </strong> 
        </p>
        <p>
          Saludos <strong>Fr13ndS HTB</strong>
        </p>
        <p>
          <img src="assets/img/portfolio/Saludo.png" class="img-fluid" alt=""><img src="assets/img/portfolio/Saludo.png" class="img-fluid" alt=""><img src="assets/img/portfolio/Saludo.png" class="img-fluid" alt="">
        </p>

      </div>
    </div><!-- End Portfolio Details -->

  </main><!-- End #main -->

  <div class="credits">
    <!-- All the links in the footer should remain intact. -->
    <!-- You can delete the links only if you purchased the pro version. -->
    <!-- Licensing information: https://bootstrapmade.com/license/ -->
    <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/personal-free-resume-bootstrap-template/ -->
    Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
  </div>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/jquery/jquery.min.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/jquery.easing/jquery.easing.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/waypoints/jquery.waypoints.min.js"></script>
  <script src="assets/vendor/counterup/counterup.min.js"></script>
  <script src="assets/vendor/owl.carousel/owl.carousel.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/venobox/venobox.min.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

</body>

</html>