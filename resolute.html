<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Resolute</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/icofont/icofont.min.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assets/vendor/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/venobox/venobox.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: Personal - v2.4.0
  * Template URL: https://bootstrapmade.com/personal-free-resume-bootstrap-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

  <main id="main">

    <!-- ======= Portfolio Details ======= -->
    <div id="portfolio-details" class="portfolio-details">
      <div class="container">

        <div class="row">

          <div class="col-lg-8">
            <h2 class="portfolio-title">HTB Máquina <a href="resolute.html"> Resolute </a> </h2>
            <div class="owl-carousel portfolio-details-carousel">
              <img src="assets/img/portfolio/resolute/resolute.png" class="img-fluid" alt="">
              <img src="assets/img/portfolio/resolute/1.JPG" class="img-fluid" alt="">
              <img src="assets/img/portfolio/resolute/10.JPG" class="img-fluid" alt="">
            </div>
          </div>

          <div class="col-lg-4 portfolio-info">
            <h3>angussMoody</h3>
            <ul><br><br><br><br><br>
              <li><strong>Sistema</strong>: Windows</li>
              <li><strong>Puntuación</strong>: 4.7</li>
              <li><strong>Categoría</strong>: Medio</li>
            </ul>

          </div>

        </div>
        <p>
          <h1>• Usuario:</h1> 
        </p>
        <p style="text-align: justify;">
          Lo primero que realizamos es un escaneo de puertos para saber a qué nos enfrentamos donde nos encontramos con muchos puertos interesantes como el conocido 5985, puertos con el protocolo kerberos, puerto de ldap y sabemos que no enfrentamos a una máquina Active Directory.
        </p>
        <p>
          <img src="assets/img/portfolio/resolute/1.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">
          Ahora vamos a hacer uso de la herramienta enum4linux para saber con qué nos encontramos, vemos en la parte de user que tenemos varios usuarios además nos encontramos una password, después de hacer unas pruebas con el usuario marko y no obtener resultados, necesitamos saber si esta es una password valida y saber de usuario es esta password
        </p>
        <p>
          <img src="assets/img/portfolio/resolute/2.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">
          Vamos a realizar una lista de los usuarios para hacer algunas pruebas, en este momento contamos con unos usuarios y tenemos una password, así que vamos a hacer uso de la herramienta hydra para saber si podemos encontrar el usuario de esta password.
        </p>
        <p>
          <img src="assets/img/portfolio/resolute/3.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">
          Realizando el ataque con hydra nos encontramos que esta password pertenecen a Melanie, ya en este punto tenemos unas credenciales, ahora vamos a buscar la forma de probar estas credenciales.
        </p>
        <p>
          <img src="assets/img/portfolio/resolute/4.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">
          Revisando con la herramienta smbmap, vemos que tiene algunos recursos compartidos con permisos de lectura, pero enumerando no encontramos nada que nos sea útil.
        </p>
        <p>
          <img src="assets/img/portfolio/resolute/5.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">
          Así que como sabemos que tenemos el puerto 5985 abierto, vamos ver si podemos tener un acceso por medio de                <a href="https://github.com/Hackplayers/evil-winrm"> evil-winrm </a> con estas credenciales.
        </p>
        <p>
          <img src="assets/img/portfolio/resolute/6.JPG" class="img-fluid" alt="">
        </p>
        <p>
          <strong> y así obtenemos nuestra primera flag. </strong> 
        </p>

        <p style="text-align: justify;">
          <h1>• Escalada de Privilegios:</h1> 
        </p>
        <p style="text-align: justify;">
          Vamos a realizar una enumeración con el usuario que tenemos en este momento, para ver como podemos escalar privilegios para nuestra segunda bandera, en la raíz vemos algunos directorios ocultos, así que vamos ver con que nos encontramos en estos directorios.
        </p>
        <p>
          <img src="assets/img/portfolio/resolute/7.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">
          Encontramos un archivo de texto dentro de unos directorios ocultos, así que vamos a ver con que nos encontramos, podemos leer el archivo con un type, pero en este caso nos descargamos el archivo, para leerlo y tenerlo en nuestra máquina, por si más adelante lo necesitamos de nuevo.
        </p>
        <p>
          <img src="assets/img/portfolio/resolute/8.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">
          Realizando la lectura de este archivo, no encontramos con algo que al parecer son las credenciales de uno de los usuarios que habíamos enumerado antes.
        </p>
        <p>
          <img src="assets/img/portfolio/resolute/9.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">
          Así que vamos a ver si podemos tener acceso por medio de <a href="https://github.com/Hackplayers/evil-winrm"> evil-winrm </a> con estas credenciales y obtenemos un acceso con estas credenciales.
        </p>
        <p>
          <img src="assets/img/portfolio/resolute/10.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">
          Después de enumerar un poco la máquina y no encontrar nada vamos a ver que permisos tiene este usuario así que vemos que nuestro usuario se encuentra en el grupo DnsAdmins, después de buscar un poco nos encontramos con un <a href="https://medium.com/techzap/dns-admin-privesc-in-active-directory-ad-windows-ecc7ed5a21a2"> articulo </a> que nos da una idea de como debemos realizar la escalada de privilegios.
        </p>
        <p>
          <img src="assets/img/portfolio/resolute/11.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">
          Lo primero que vamos a realizar es un archivo dll con una revShell utilizando msfvenom.
        </p>
        <p>
          <img src="assets/img/portfolio/resolute/12.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">
          Vamos a hacer uso de la herramienta <a href="https://github.com/SecureAuthCorp/impacket/blob/master/impacket/smbserver.py"> smbserver </a> del paquete de <a href="https://github.com/SecureAuthCorp/impacket"> impacket </a> para compartir nuestro archivo.
        </p>
        <p>
          <img src="assets/img/portfolio/resolute/13.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">
          y vamos a poner nuestra máquina a la escucha.
        </p>
        <p>
          <img src="assets/img/portfolio/resolute/14.JPG" class="img-fluid" alt="">
        </p>
        <p style="text-align: justify;">
         Ahora vamos a compartir nuestro archivo con la máquina victima por medio de la herramienta <a href="https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/dnscmd"> dnscmd </a> para ejecutar nuestro archivo
        </p>
        <p>
          <img src="assets/img/portfolio/resolute/15.JPG" class="img-fluid" alt="">
        </p>







        <p>
          <strong> De esta manera encontramos la flag del Root. </strong> 
        </p>
        <p>
          Saludos <strong>Fr13ndS HTB</strong>
        </p>
        <p>
          <img src="assets/img/portfolio/Saludo.png" class="img-fluid" alt=""><img src="assets/img/portfolio/Saludo.png" class="img-fluid" alt=""><img src="assets/img/portfolio/Saludo.png" class="img-fluid" alt="">
        </p>

      </div>
    </div><!-- End Portfolio Details -->

  </main><!-- End #main -->

  <div class="credits">
    <!-- All the links in the footer should remain intact. -->
    <!-- You can delete the links only if you purchased the pro version. -->
    <!-- Licensing information: https://bootstrapmade.com/license/ -->
    <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/personal-free-resume-bootstrap-template/ -->
    Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
  </div>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/jquery/jquery.min.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/jquery.easing/jquery.easing.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/waypoints/jquery.waypoints.min.js"></script>
  <script src="assets/vendor/counterup/counterup.min.js"></script>
  <script src="assets/vendor/owl.carousel/owl.carousel.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/venobox/venobox.min.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

</body>

</html>